{{ $site := .site }}
{{ $page := .page }}
{{ $params := .params }}
{{ $heading := .params.heading }}

<div class="bg-white text-gray-800 mb-12 lg:mb-20 xl:mb-32">
  <div class="mx-auto  px-6 lg:px-12 xl:px-24 py-8 lg:py-12 xl:py-24">
    {{ with $params.title }}
      <h2 class="text-2xl font-bold mb-4 xl:mb-12 text-center">{{ . | markdownify }}</h2>
    {{ end }}
    {{ with $params.items }}
    <ul class="max-w-3xl mx-auto space-y-4"  x-data="{selected:null}" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      {{ range $index, $element :=  . }}
      {{ range where $site.Pages "Params.id" . }}
      {{ $item := . }}
      {{ with .Params.faq}}
      <li class="flex align-center flex-col">
        <button class="flex items-center justify-between bg-gray-100 px-3 py-4 w-full rounded font-semibold cursor-pointer hover:bg-gray-200 focus:outline-none" @click="selected !== {{$index}} ? selected = {{$index}} : selected = null"  itemprop="name">
          {{ .question | markdownify}}
          <span class="h-6 w-6 flex items-center justify-center branch-element-text">
            <svg x-show="selected == {{$index}}" class="w-3 h-3 fill-current" viewBox="0 -192 469.33333 469" xmlns="http://www.w3.org/2000/svg"><path d="m437.332031.167969h-405.332031c-17.664062 0-32 14.335937-32 32v21.332031c0 17.664062 14.335938 32 32 32h405.332031c17.664063 0 32-14.335938 32-32v-21.332031c0-17.664063-14.335937-32-32-32zm0 0"/></svg>
            
            <svg x-show="selected != {{$index}}" class="w-3 h-3 fill-current" viewBox="0 0 469.33333 469.33333" xmlns="http://www.w3.org/2000/svg"><path d="m437.332031 192h-160v-160c0-17.664062-14.335937-32-32-32h-21.332031c-17.664062 0-32 14.335938-32 32v160h-160c-17.664062 0-32 14.335938-32 32v21.332031c0 17.664063 14.335938 32 32 32h160v160c0 17.664063 14.335938 32 32 32h21.332031c17.664063 0 32-14.335937 32-32v-160h160c17.664063 0 32-14.335937 32-32v-21.332031c0-17.664062-14.335937-32-32-32zm0 0"/></svg>
          </span>
        </button>
        <div class="p-3" x-show="selected == {{$index}}" itemprop="text">
          {{ .answer | markdownify}}
        </div>
      </li>
          {{ end }}
      {{ end }}
    {{ end }}
    </ul>
      {{ if $params.more_items}}
      <div class="flex justify-center items-center pt-8 lg:pt-16">
        <a href="/faqs" class="w-12 h-12 branch-element-bg flex items-center justify-center transform rotate-0 hover:rotate-45 duration-300  ">
          <svg class="w-6 h-6 text-green-100" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
        </a>
      </div>
      {{ end }}
    {{ end }}
  </div>
</div>

