{{ define "main" }}
<div class="max-w-screen-2xl w-full mx-auto px-6 lg:px-8 xl:px-24 py-8 md:pb-20 xl:pt-24">
  <div class="mb-12 lg:mb-20 xl:mb-32 mx-auto">
    <div class="md:mb-4 max-w-2xl lg:max-w-3xl xl:max-w-4xl mx-auto sm:px-2 lg:px-4 xl:px-10 transform -translate-x-1">
      <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold branch-element-text">{{ .Title }}</h1>
      <p class="mt-3 ">{{ T "reading_time"}}: {{ math.Round (div (countwords .Content) 220.0) }} {{ T "minutes"}}.</p>
    </div>
    <div class="prose lg:prose-lg xl:prose-xl py-6 md:py-2 w-full mx-auto">
      {{ .Content }}
    </div>
    {{ with .Params.author }}
    <div class="md:grid md:grid-cols-7 md:gap-16 md:mb-4 max-w-2xl lg:max-w-3xl xl:max-w-4xl mx-auto lg:px-2 xl:px-8 mt-6 md:mt-16">
      <div class="col-span-7 sm:col-span-2"> 
        {{ range where $.Site.Pages "Params.id" . }}
        {{ $item := . }}
        <a href="{{$item.RelPermalink}}" class="block relative lg:text-center">
          {{ with .Params.image}}
          {{ partial "image.html" (dict "page" $item  "source" .source "alt" .alt "width" "400" "height" "400" "class" "transform scale-100 hover:scale-110 transition duration-300 lg:mx-auto  w-64 ") }}
          {{ end }}
        </a>
      </div>
      
      <div class="self-center col-span-5 md:col-span-5 mt-8 md:mt-0">
        <div class="p-8  branch-element-bg text-white relative leading-relaxed">
          <div class="h-8 w-8 transform rotate-45 branch-element-bg absolute md:left-0 md:-translate-x-1/2 top-0 md:top-8 -translate-y-1/2 md:translate-y-0">&nbsp;</div>
          <h3 class="text-xl lg:text-2xl font-bold mb-4">
            {{ .Title }}  {{ with .Params.function }}- <span class="italic">{{.}}</span> {{ end }}
          </h3>
          {{ with .Params.cta }}
          {{ . }}
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>
{{ end }}

