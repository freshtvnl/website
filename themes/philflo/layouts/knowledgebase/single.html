{{ define "main" }}
<div class="w-full px-6 py-8 mx-auto max-w-screen-2xl lg:px-8 xl:px-24 md:pb-20 xl:pt-24">
  <div class="mx-auto mb-12 lg:mb-20 xl:mb-32">
    <div class="max-w-2xl mx-auto transform -translate-x-1 md:mb-4 lg:max-w-3xl xl:max-w-4xl sm:px-2 lg:px-4 xl:px-10">
      <h1 class="text-2xl font-bold md:text-3xl lg:text-4xl branch-element-text">{{ .Title }}</h1>
      <p class="mt-3 ">{{ T "reading_time"}}: {{ math.Round (div (countwords .Content) 220.0) }} {{ T "minutes"}}.</p>
    </div>
    <div class="w-full py-6 mx-auto prose lg:prose-lg xl:prose-xl md:py-2">
      {{ .Content }}
    </div>
    {{ with .Params.author }}
    <div class="max-w-2xl mx-auto mt-6 md:grid md:grid-cols-7 md:gap-16 md:mb-4 lg:max-w-3xl xl:max-w-4xl lg:px-2 xl:px-8 md:mt-16">
      <div class="col-span-7 sm:col-span-2"> 
        {{ range where $.Site.Pages "Params.slug" . }}
        {{ $item := . }}
        <a href="{{$item.RelPermalink}}" class="relative block lg:text-center">
          {{ with .Params.image}}
          {{ partial "image.html" (dict "page" $item  "source" .source "alt" .alt "width" "400" "height" "400" "class" "transform scale-100 hover:scale-110 transition duration-300 lg:mx-auto  w-64 ") }}
          {{ end }}
        </a>
      </div>
      
      <div class="self-center col-span-5 mt-8 md:col-span-5 md:mt-0">
        <div class="relative p-8 leading-relaxed text-white branch-element-bg">
          <div class="absolute top-0 w-8 h-8 transform rotate-45 -translate-y-1/2 branch-element-bg md:left-0 md:-translate-x-1/2 md:top-8 md:translate-y-0">&nbsp;</div>
          <h3 class="mb-4 text-xl font-bold lg:text-2xl">
            {{ .Title }}  {{ with .Params.function }}- <span class="italic">{{.}}</span> {{ end }}
          </h3>
          {{ with .Params.cta }}
          {{ . }}
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>
{{ end }}

